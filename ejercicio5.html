<!-- Nombre: Carolina Rivas Choquemallco -->
<!-- C.I.: 10902052 -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Galería de Pokémon</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f8ff;
      text-align: center;
      padding: 20px;
    }
    h1 {
      color: #cc0000;
    }
    #pokemon-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    .pokemon-card {
      background: white;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .pokemon-card img {
      width: 80px;
      height: 80px;
    }
    .pagination {
      margin: 20px;
    }
    button {
      padding: 8px 12px;
      margin: 0 5px;
      background-color: #cc0000;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    input {
      padding: 6px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <h1>Galería de Pokémon</h1>
  <h3>Nombre: Carolina Rivas Choquemallco | C.I.: 10902052</h3>

  <div>
    <input type="text" id="searchInput" placeholder="Buscar por nombre...">
    <button onclick="buscarPokemon()">Buscar</button>
    <button onclick="cargarPagina(paginaActual)">Reset</button>
  </div>

  <div id="pokemon-container"></div>

  <div class="pagination">
    <button onclick="cambiarPagina(-1)">Anterior</button>
    <span id="pagina-info"></span>
    <button onclick="cambiarPagina(1)">Siguiente</button>
  </div>

  <script>
    let paginaActual = 0;

    async function cargarPagina(pagina) {
      const offset = pagina * 20;
      const url = `https://pokeapi.co/api/v2/pokemon?limit=20&offset=${offset}`;

      try {
        const res = await fetch(url);
        const data = await res.json();
        const container = document.getElementById('pokemon-container');
        container.innerHTML = "";
        document.getElementById('pagina-info').innerText = `Página ${pagina + 1}`;

        for (let pokemon of data.results) {
          const resDetalle = await fetch(pokemon.url);
          const detalle = await resDetalle.json();

          const card = document.createElement('div');
          card.className = 'pokemon-card';
          card.innerHTML = `
            <img src="${detalle.sprites.front_default}" alt="${pokemon.name}">
            <p>${pokemon.name}</p>
          `;
          container.appendChild(card);
        }

      } catch (error) {
        console.error("Error al cargar Pokémon:", error);
      }
    }

    function cambiarPagina(direccion) {
      paginaActual += direccion;
      if (paginaActual < 0) paginaActual = 0;
      cargarPagina(paginaActual);
    }

    async function buscarPokemon() {
      const nombre = document.getElementById('searchInput').value.toLowerCase();
      if (!nombre) return;

      const url = `https://pokeapi.co/api/v2/pokemon/${nombre}`;
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error("Pokémon no encontrado");
        const data = await res.json();

        const container = document.getElementById('pokemon-container');
        container.innerHTML = "";
        document.getElementById('pagina-info').innerText = `Resultado de búsqueda`;

        const card = document.createElement('div');
        card.className = 'pokemon-card';
        card.innerHTML = `
          <img src="${data.sprites.front_default}" alt="${data.name}">
          <p>${data.name}</p>
        `;
        container.appendChild(card);

      } catch (err) {
        alert("Pokémon no encontrado");
        console.error(err);
      }
    }

    // Cargar primera página al iniciar
    cargarPagina(paginaActual);
  </script>
</body>
</html>
